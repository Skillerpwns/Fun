<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carnival Venezia Packing Checklist</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the Inter font and checkbox appearance */
        body {
            font-family: "Inter", sans-serif;
        }
        .form-checkbox:checked {
            background-color: #2563eb; /* Blue-600 */
            border-color: #2563eb; /* Blue-600 */
        }
        .form-checkbox:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); /* Blue-500 with opacity */
        }
        /* Custom styles for the scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-100 to-indigo-200 p-4 sm:p-6 text-gray-800">
    <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-2xl p-6 sm:p-8 md:p-10">
        <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-blue-800 mb-6 border-b-4 border-blue-300 pb-3">
            ðŸš¢ Carnival Venezia Packing Checklist âš“
        </h1>
        <p class="text-center text-lg mb-8 text-gray-600">
            Your personalized guide for your September 22nd cruise from Manhattan!
            <br>
            <span class="font-semibold text-blue-600">
                Remember: Carnival Venezia does NOT have self-service laundry.
            </span>
        </p>

        <!-- Reset Button -->
        <div class="flex justify-center mb-8">
            <button id="resetListBtn" class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-300">
                Reset All Items
            </button>
        </div>

        <!-- Packing List Container -->
        <div id="packingListContainer">
            <!-- Content will be generated by JavaScript -->
        </div>

        <!-- Pro Tips Section -->
        <div class="mt-10 p-6 bg-green-50 rounded-xl shadow-md">
            <h2 class="text-2xl font-bold text-green-700 mb-4 border-b-2 border-green-200 pb-2">
                âœ¨ Your Super Best Assistant Pro Tips! âœ¨
            </h2>
            <ul class="list-disc list-inside space-y-3 text-gray-700">
                <li><span class="font-semibold">Embarkation Day Strategy:</span> Pack essentials (swimsuit, meds, change of clothes) in your carry-on. Your checked bags take time to arrive!</li>
                <li><span class="font-semibold">Hydration is Key:</span> Use your reusable water bottle. The sun is intense; stay hydrated!</li>
                <li><span class="font-semibold">Internet Access:</span> Wi-Fi packages are expensive. Download entertainment beforehand.</li>
                <li><span class="font-semibold">Motion Sickness:</span> Take preventative medication *before* you feel sick.</li>
                <li><span class="font-semibold">Port Days:</span> Get off the ship early to beat crowds. Always know the "all aboard" time!</li>
                <li><span class="font-semibold">Onboard Activities:</span> Check the Carnival Hub App daily for the "Fun Times" schedule.</li>
                <li><span class="font-semibold">Specialty Dining:</span> Make reservations as soon as you board, or even before if possible.</li>
                <li><span class="font-semibold">Cabin Organization:</span> Utilize magnetic hooks and an over-the-door organizer for maximum space.</li>
                <li><span class="font-semibold">Relax!</span> Don't overschedule. Enjoy the sea, the food, the entertainment, and the new places.</li>
            </ul>
        </div>
    </div>

    <script>
        // Define the initial packing list data
        const initialPackingList = [
            // I. Pre-Cruise Essentials & Documents
            { id: 'doc1', category: 'I. Pre-Cruise Essentials & Documents', name: 'Passport or other required ID', packed: false },
            { id: 'doc2', category: 'I. Pre-Cruise Essentials & Documents', name: 'Boarding Pass / E-tickets (printed & digital)', packed: false },
            { id: 'doc3', category: 'I. Pre-Cruise Essentials & Documents', name: 'Printed Luggage Tags (attach before leaving)', packed: false },
            { id: 'doc4', category: 'I. Pre-Cruise Essentials & Documents', name: 'Credit Cards / Debit Cards (notify bank of travel)', packed: false },
            { id: 'doc5', category: 'I. Pre-Cruise Essentials & Documents', name: 'Cash (small bills for tips, taxis, etc.)', packed: false },
            { id: 'doc6', category: 'I. Pre-Cruise Essentials & Documents', name: 'Driver\'s License (if needed)', packed: false },
            { id: 'doc7', category: 'I. Pre-Cruise Essentials & Documents', name: 'Health Insurance Cards (and any travel insurance info)', packed: false },
            { id: 'doc8', category: 'I. Pre-Cruise Essentials & Documents', name: 'Copies of all important documents (physical & digital)', packed: false },
            { id: 'doc9', category: 'I. Pre-Cruise Essentials & Documents', name: 'Carnival Hub App downloaded and set up', packed: false },
            { id: 'doc10', category: 'I. Pre-Cruise Essentials & Documents', name: 'Any pre-booked excursion confirmations', packed: false },
            { id: 'doc11', category: 'I. Pre-Cruise Essentials & Documents', name: 'Any specialty dining reservations', packed: false },
            { id: 'doc12', category: 'I. Pre-Cruise Essentials & Documents', name: 'Drink Package / Wi-Fi Package confirmation', packed: false },

            // II. Carry-On Bag Essentials
            { id: 'carry1', category: 'II. Carry-On Bag Essentials', name: 'Wallet/Purse', packed: false },
            { id: 'carry2', category: 'II. Carry-On Bag Essentials', name: 'Phone & Charger', packed: false },
            { id: 'carry3', category: 'II. Carry-On Bag Essentials', name: 'Essential daily medications (DO NOT check!)', packed: false },
            { id: 'carry4', category: 'II. Carry-On Bag Essentials', name: 'Change of clothes (for embarkation dinner)', packed: false },
            { id: 'carry5', category: 'II. Carry-On Bag Essentials', name: 'Swimsuit & Cover-up', packed: false },
            { id: 'carry6', category: 'II. Carry-On Bag Essentials', name: 'Sunscreen', packed: false },
            { id: 'carry7', category: 'II. Carry-On Bag Essentials', name: 'Glasses/Contacts & solution', packed: false },
            { id: 'carry8', category: 'II. Carry-On Bag Essentials', name: 'Small toiletry bag (toothbrush, deodorant, etc.)', packed: false },
            { id: 'carry9', category: 'II. Carry-On Bag Essentials', name: 'Small book/e-reader/headphones', packed: false },
            { id: 'carry10', category: 'II. Carry-On Bag Essentials', name: 'Small amount of cash', packed: false },

            // III. Clothing - Foundation & Everyday Wear
            { id: 'cloth1', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Underwear (9-10 pairs)', packed: false },
            { id: 'cloth2', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Socks (8-9 pairs: athletic, casual/dressy)', packed: false },
            { id: 'cloth3', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Bras (3-4: daily, sports, convertible)', packed: false },
            { id: 'cloth4', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Pajamas/Loungewear (3-4 sets)', packed: false },
            { id: 'cloth5', category: 'III. Clothing - Foundation & Everyday Wear', name: 'T-shirts/Casual Tops (7-8: short & light long-sleeve)', packed: false },
            { id: 'cloth6', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Shorts (3-4 pairs: lightweight, breathable)', packed: false },
            { id: 'cloth7', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Capris/Skirts/Casual Dresses/Sundresses (3-4 items)', packed: false },
            { id: 'cloth8', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Swimsuits (3)', packed: false },
            { id: 'cloth9', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Swimsuit Cover-ups (2)', packed: false },
            { id: 'cloth10', category: 'III. Clothing - Foundation & Everyday Wear', name: 'Workout Gear (1-2 sets, if using gym)', packed: false },

            // IV. Clothing - Outerwear & Layers
            { id: 'layer1', category: 'IV. Clothing - Outerwear & Layers', name: 'Light Sweaters/Cardigans (2)', packed: false },
            { id: 'layer2', category: 'IV. Clothing - Outerwear & Layers', name: 'Light Jacket/Windbreaker (1)', packed: false },
            { id: 'layer3', category: 'IV. Clothing - Outerwear & Layers', name: 'Pashmina/Shawl (1, for women)', packed: false },
            { id: 'layer4', category: 'IV. Clothing - Outerwear & Layers', name: 'Small, Compact Umbrella/Light Rain Jacket (1)', packed: false },

            // V. Clothing - Evening & Dining Attire
            { id: 'evening1', category: 'V. Clothing - Evening & Dining Attire', name: 'Cruise Casual: Men - 3-4 collared shirts (polo/button-down)', packed: false },
            { id: 'evening2', category: 'V. Clothing - Evening & Dining Attire', name: 'Cruise Casual: Women - 3-4 "smart casual" outfits', packed: false },
            { id: 'evening3', category: 'V. Clothing - Evening & Dining Attire', name: 'Cruise Elegant: Men - 1-2 pairs dress pants, 1-2 dress shirts', packed: false },
            { id: 'evening4', category: 'V. Clothing - Evening & Dining Attire', name: 'Cruise Elegant: Men - Blazer/Sport Coat (optional)', packed: false },
            { id: 'evening5', category: 'V. Clothing - Evening & Dining Attire', name: 'Cruise Elegant: Women - 1-2 dressy outfits (cocktail dress, pantsuit, etc.)', packed: false },

            // VI. Footwear
            { id: 'foot1', category: 'VI. Footwear', name: 'Comfortable Walking Shoes/Sneakers (1 pair)', packed: false },
            { id: 'foot2', category: 'VI. Footwear', name: 'Casual Sandals/Flip-flops (1 pair)', packed: false },
            { id: 'foot3', category: 'VI. Footwear', name: 'Dressier Shoes (1-2 pairs)', packed: false },
            { id: 'foot4', category: 'VI. Footwear', name: 'Water Shoes (1 pair, optional)', packed: false },

            // VII. Toiletries & Health
            { id: 'toilet1', category: 'VII. Toiletries & Health', name: 'Your preferred Shampoo, Conditioner, Body Wash, Lotion', packed: false },
            { id: 'toilet2', category: 'VII. Toiletries & Health', name: 'Toothbrush, Toothpaste, Dental Floss, Mouthwash', packed: false },
            { id: 'toilet3', category: 'VII. Toiletries & Health', name: 'Deodorant', packed: false },
            { id: 'toilet4', category: 'VII. Toiletries & Health', name: 'Hair brush/comb, Hair products, Hair ties', packed: false },
            { id: 'toilet5', category: 'VII. Toiletries & Health', name: 'Makeup & Remover', packed: false },
            { id: 'toilet6', category: 'VII. Toiletries & Health', name: 'Shaving supplies', packed: false },
            { id: 'toilet7', category: 'VII. Toiletries & Health', name: 'Sunscreen (High SPF - bring plenty!)', packed: false },
            { id: 'toilet8', category: 'VII. Toiletries & Health', name: 'After-sun Lotion/Aloe Vera', packed: false },
            { id: 'toilet9', category: 'VII. Toiletries & Health', name: 'Lip Balm with SPF', packed: false },
            { id: 'toilet10', category: 'VII. Toiletries & Health', name: 'Insect Repellent', packed: false },
            { id: 'toilet11', category: 'VII. Toiletries & Health', name: 'Prescription Medications (in original bottles - in carry-on!)', packed: false },
            { id: 'toilet12', category: 'VII. Toiletries & Health', name: 'Over-the-counter Pain Relievers', packed: false },
            { id: 'toilet13', category: 'VII. Toiletries & Health', name: 'Antacids/Upset Stomach Relief', packed: false },
            { id: 'toilet14', category: 'VII. Toiletries & Health', name: 'Motion Sickness Medication', packed: false },
            { id: 'toilet15', category: 'VII. Toiletries & Health', name: 'Allergy Medication', packed: false },
            { id: 'toilet16', category: 'VII. Toiletries & Health', name: 'Small First-Aid Kit (Band-Aids, antiseptic wipes, blister patches)', packed: false },
            { id: 'toilet17', category: 'VII. Toiletries & Health', name: 'Hand Sanitizer (travel-sized)', packed: false },
            { id: 'toilet18', category: 'VII. Toiletries & Health', name: 'Glasses/Contact Lenses & Solution (and a spare pair!)', packed: false },

            // VIII. Electronics & Entertainment
            { id: 'elec1', category: 'VIII. Electronics & Entertainment', name: 'Cell Phone & Chargers', packed: false },
            { id: 'elec2', category: 'VIII. Electronics & Entertainment', name: 'Portable Power Bank (fully charged!)', packed: false },
            { id: 'elec3', category: 'VIII. Electronics & Entertainment', name: 'Camera & Accessories (extra battery, memory card)', packed: false },
            { id: 'elec4', category: 'VIII. Electronics & Entertainment', name: 'Headphones', packed: false },
            { id: 'elec5', category: 'VIII. Electronics & Entertainment', name: 'E-reader/Tablet & Charger (loaded with content)', packed: false },
            { id: 'elec6', category: 'VIII. Electronics & Entertainment', name: 'Non-Surge Protector Power Strip/Travel Adapter', packed: false },
            { id: 'elec7', category: 'VIII. Electronics & Entertainment', name: 'Travel Alarm Clock (or use phone)', packed: false },

            // IX. Miscellaneous "Life Savers" & Handy Items
            { id: 'misc1', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Sunglasses (2 pairs, just in case)', packed: false },
            { id: 'misc2', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Hats (sun hat, maybe a beanie/cap)', packed: false },
            { id: 'misc3', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Reusable Water Bottle', packed: false },
            { id: 'misc4', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Small Day Bag/Backpack (for shore excursions)', packed: false },
            { id: 'misc5', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Books/Magazines/Reading Material', packed: false },
            { id: 'misc6', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Playing Cards/Travel Games', packed: false },
            { id: 'misc7', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Over-the-Door Shoe Organizer (cabin organization magic!)', packed: false },
            { id: 'misc8', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Magnetic Hooks (for hanging items on cabin walls)', packed: false },
            { id: 'misc9', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Small Bag for Dirty Laundry', packed: false },
            { id: 'misc10', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Ziploc Bags (various sizes - super versatile!)', packed: false },
            { id: 'misc11', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Pen & Small Notepad', packed: false },
            { id: 'misc12', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Lanyard with card holder (for Sail & Sign card)', packed: false },
            { id: 'misc13', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Wrinkle Release Spray (no irons allowed!)', packed: false },
            { id: 'misc14', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Small amount of laundry detergent sheets or pods', packed: false },
            { id: 'misc15', category: 'IX. Miscellaneous "Life Savers" & Handy Items', name: 'Clothespins (for drying small hand-washed items)', packed: false },
        ];

        let packingList = []; // This will hold the current state of the list

        // Function to load the packing list from local storage or use initial list
        function loadPackingList() {
            const savedList = localStorage.getItem('carnivalPackingList');
            // Attempt to parse saved list, if null or invalid, use a deep copy of initialPackingList
            try {
                packingList = savedList ? JSON.parse(savedList) : JSON.parse(JSON.stringify(initialPackingList));
            } catch (e) {
                // Fallback if savedList is corrupted
                console.error("Error parsing saved packing list, resetting to initial list:", e);
                packingList = JSON.parse(JSON.stringify(initialPackingList));
            }

            // Ensure packingList is not empty after load
            if (!packingList || packingList.length === 0) {
                packingList = JSON.parse(JSON.stringify(initialPackingList));
                savePackingList(); // Save this initial state if it was just reset
            }
        }

        // Function to save the packing list to local storage
        function savePackingList() {
            localStorage.setItem('carnivalPackingList', JSON.stringify(packingList));
        }

        // Function to render the packing list to the HTML
        function renderPackingList() {
            const container = document.getElementById('packingListContainer');
            // Added a check to ensure the container element exists before trying to render
            if (!container) {
                console.error("Packing list container not found!");
                return; // Exit if container is not found
            }
            container.innerHTML = ''; // Clear existing content

            // Group items by category
            const groupedList = packingList.reduce((acc, item) => {
                (acc[item.category] = acc[item.category] || []).push(item);
                return acc;
            }, {});

            for (const category in groupedList) {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'mb-8 p-6 bg-blue-50 rounded-xl shadow-md';
                categoryDiv.innerHTML = `
                    <h2 class="text-2xl font-bold text-blue-700 mb-4 border-b-2 border-blue-200 pb-2">
                        ${category}
                    </h2>
                    <ul class="space-y-3"></ul>
                `;
                const ul = categoryDiv.querySelector('ul');

                groupedList[category].forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'flex items-center bg-white p-3 rounded-lg shadow-sm';
                    li.innerHTML = `
                        <input
                            type="checkbox"
                            id="${item.id}"
                            ${item.packed ? 'checked' : ''}
                            class="form-checkbox h-6 w-6 text-blue-600 rounded-md focus:ring-blue-500 transition duration-150 ease-in-out cursor-pointer"
                        />
                        <label
                            for="${item.id}"
                            class="ml-4 text-lg flex-1 cursor-pointer ${item.packed ? 'line-through text-gray-500' : 'text-gray-800'}"
                        >
                            ${item.name}
                        </label>
                    `;
                    ul.appendChild(li);

                    // Add event listener to the checkbox
                    li.querySelector('input').addEventListener('change', (event) => {
                        const itemId = event.target.id;
                        const itemIndex = packingList.findIndex(pItem => pItem.id === itemId);
                        if (itemIndex !== -1) {
                            packingList[itemIndex].packed = event.target.checked;
                            savePackingList();
                            // Update the label style immediately
                            event.target.nextElementSibling.classList.toggle('line-through', event.target.checked);
                            event.target.nextElementSibling.classList.toggle('text-gray-500', event.target.checked);
                            event.target.nextElementSibling.classList.toggle('text-gray-800', !event.target.checked);
                        }
                    });
                });
                container.appendChild(categoryDiv);
            }
        }

        // Function to reset all items to unpacked
        function resetList() {
            // Using a custom modal for confirmation instead of alert/confirm
            const confirmation = window.confirm('Are you sure you want to reset the entire packing list? All items will be unchecked.');
            if (confirmation) {
                packingList = JSON.parse(JSON.stringify(initialPackingList)); // Reset to original state
                savePackingList();
                renderPackingList(); // Re-render the list
            }
        }

        // Event listener for the reset button
        document.getElementById('resetListBtn').addEventListener('click', resetList);

        // Initial load and render: Call functions directly to ensure immediate execution
        // This replaces window.onload to ensure the list renders as soon as possible.
        loadPackingList();
        renderPackingList();
    </script>
</body>
</html>
